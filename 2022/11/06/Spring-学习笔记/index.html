<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Spring 学习笔记 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Spring学习笔记 1.简介Spring 春天，给软件行业带来了春天 2002年的时候，首次推出了框架的雏形 2004年3月24日诞生 Rod Johnson 悉尼大学的音乐学专业博士，“轮子理论”不要重复的造轮子 spring理念 保持强大的向后兼容性，使现有的技术更加容易使用，本身是一个大杂烩，整合了现有的技术框架！ ssh：strus2 + spring + hibernate ssm:s">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring 学习笔记">
<meta property="og:url" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Spring学习笔记 1.简介Spring 春天，给软件行业带来了春天 2002年的时候，首次推出了框架的雏形 2004年3月24日诞生 Rod Johnson 悉尼大学的音乐学专业博士，“轮子理论”不要重复的造轮子 spring理念 保持强大的向后兼容性，使现有的技术更加容易使用，本身是一个大杂烩，整合了现有的技术框架！ ssh：strus2 + spring + hibernate ssm:s">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106214955591.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215000060.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215004862.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215008870.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215012409.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215017691.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215021341.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215025208.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215029004.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215032790.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215035789.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215038865.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215050439.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215053140.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215057870.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215104498.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215108369.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215111908.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215116557.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215120188.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215126552.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215129688.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215133439.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215136763.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215140288.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215143238.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215146548.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215150146.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215153413.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215156346.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215201337.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215205318.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215208539.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215213138.png">
<meta property="og:image" content="https://docs.corp.kuaishou.com/image/api/external/load/out?code=fcADXW0lcmHPWbcohLK37rVox:3335998147484307025fcADXW0lcmHPWbcohLK37rVox:1667744324479">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215218147.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215221038.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215223936.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215227192.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215240837.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215243338.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215246602.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215249795.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215252636.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215255617.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215259344.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215303590.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215310986.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215315310.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215321111.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215326037.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215329336.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215334694.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215338384.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215343062.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215346389.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215350101.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215353445.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215402286.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215405537.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215409750.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215412685.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215416740.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215419685.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215423636.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215426948.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215430183.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215434484.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215437437.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215442300.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215445901.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215449039.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215452483.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215455154.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215458232.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215501483.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215505332.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215509414.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215513055.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215519246.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215522635.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215526183.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215528881.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215533258.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215536850.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215543036.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215547682.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215551181.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215556831.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215602282.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215605759.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215608544.png">
<meta property="og:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215611950.png">
<meta property="article:published_time" content="2022-11-06T13:49:30.000Z">
<meta property="article:modified_time" content="2022-11-06T13:56:17.558Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106214955591.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-Spring-学习笔记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2022-11-06T13:49:30.000Z" itemprop="datePublished">2022-11-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Spring 学习笔记
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Spring学习笔记</strong></p>
<h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1.简介"></a><strong>1.简介</strong></h2><p>Spring 春天，给软件行业带来了春天</p>
<p>2002年的时候，首次推出了框架的雏形</p>
<p>2004年3月24日诞生</p>
<p>Rod Johnson 悉尼大学的音乐学专业博士，“轮子理论”不要重复的造轮子</p>
<p>spring理念</p>
<p>保持强大的向后兼容性，使现有的技术更加容易使用，本身是一个大杂烩，整合了现有的技术框架！</p>
<p>ssh：strus2 + spring + hibernate</p>
<p>ssm:springmvc + spring + mybabits</p>
<h2 id="2-优点"><a href="#2-优点" class="headerlink" title="2.优点"></a><strong>2.优点</strong></h2><p>开源的免费容器</p>
<p>spring是一个轻量级的非入侵式的框架</p>
<p>控制反转 面向切面编程 支持事务的处理，对框架整合的支持</p>
<p>总结一句话：spring就是一个轻量级的控制反转（IOC）和面向切面编程（AOP）的框架</p>
<h2 id="3-组成"><a href="#3-组成" class="headerlink" title="3. 组成"></a><strong>3. 组成</strong></h2><h3 id="3-1-IOC本质"><a href="#3-1-IOC本质" class="headerlink" title="3.1 IOC本质"></a><strong>3.1 IOC本质</strong></h3><h4 id="3-1-1-什么是IOC？"><a href="#3-1-1-什么是IOC？" class="headerlink" title="3.1.1 什么是IOC？"></a><strong>3.1.1 什么是IOC？</strong></h4><p>（1）控制反转，把对象创建和对象之间的调用过程，交给spring来进行 管理</p>
<p>（2）使用IOC目的，为了耦合度降低</p>
<h4 id="3-1-2-IOC底层原理"><a href="#3-1-2-IOC底层原理" class="headerlink" title="3.1.2 IOC底层原理"></a><strong>3.1.2 IOC底层原理</strong></h4><p>（1）xml解析、工厂模式、反射</p>
<p>控制反转IoC(Inversion of Control)，是一种设计思想，DI（依赖注入）是实现IoC的一种方法，也有人认为DI只是IoC的另一种说法，没有IoC的程序中，我们使用面向对象编程，对象的创建与对象间的依赖关系完全硬编码在程序中，对象的创建由程序自己控制，控制反转后将对象的创建转移给第三方，个人认为所谓的控制反转就是：获得依赖对象的方式反转了。</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106214955591.png" alt="img"></p>
<p>通过工厂模式降低了dao和service的耦合度</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215000060.png" alt="img"></p>
<h4 id="3-1-3-IOC的实现过程"><a href="#3-1-3-IOC的实现过程" class="headerlink" title="3.1.3 IOC的实现过程"></a><strong>3.1.3 IOC的实现过程</strong></h4><p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215004862.png" alt="img"></p>
<h4 id="3-1-4-IOC接口"><a href="#3-1-4-IOC接口" class="headerlink" title="3.1.4 IOC接口"></a><strong>3.1.4 IOC接口</strong></h4><p>1、IOC思想基于IOC容器完成，IOC底层就是对象工厂</p>
<p>2、Spring提供IOC容器实现两种方式：两个接口</p>
<p>（1）BeanFactory:IOC容器基本实现，是Spring内部的使用接口，不提供开发人员进行使用。和下面ApplicationContext的区别：加载配置文件的时候不会创建对象，在使用对象的时候才会去创建对象</p>
<p>(2)ApplicationContext：BeanFactory接口的子接口，提供更多更强大的功能，一般由开发人员进行使用，加载配置文件的时候就会把在配置文件对象进行创建</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215008870.png" alt="img"></p>
<p>实现类</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215012409.png" alt="img"></p>
<h4 id="3-1-5-IOC操作Bean管理"><a href="#3-1-5-IOC操作Bean管理" class="headerlink" title="3.1.5 IOC操作Bean管理"></a><strong>3.1.5 IOC操作Bean管理</strong></h4><p>Bean管理指的是两个操作（1）Spring创建对象 （2）Spring注入属性</p>
<p>Bean管理操作有两种方式</p>
<p>（1）基于xml配置文件方式实现</p>
<p>（2）基于注解方式实现</p>
<h5 id="3-1-5-1-IOC操作Bean管理（基于xml方式）"><a href="#3-1-5-1-IOC操作Bean管理（基于xml方式）" class="headerlink" title="3.1.5.1  IOC操作Bean管理（基于xml方式）"></a><strong>3.1.5.1  IOC操作Bean管理（基于xml方式）</strong></h5><p>1、基于xml方式创建对象</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215017691.png" alt="img"></p>
<p>（1）在spring配置文件中，使用bean标签，标签里面添加对应属性，据可以实现对象创建</p>
<p>（2）在bean标签里有很多属性，介绍常用的属性</p>
<p>id属性：获取对象的唯一的标识</p>
<p>class属性：创建对象的全路径（包和类的路径）</p>
<p>（3）创建对象时候，默认也是执行无参数的构造方法完成对象的创建</p>
<p>2、基于xml方式注入属性</p>
<p>（1）DI：依赖注入，就是注入属性，在创建对象的基础上进行完成</p>
<p>第一种注入方法：使用set方法进行注入</p>
<p>（1）创建一个类，定义属性和对应的set方法</p>
<p>（2）在spring配置文件中，配置对象创建，配置属性注入</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215021341.png" alt="img"></p>
<p>第二种注入方式：使用有参数的构造进行注入</p>
<p>（1）创建类，定义属性，创建属性对应的有参数构造方法</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215025208.png" alt="img"></p>
<p>（2）在spring配置文件中进行配置</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215029004.png" alt="img"></p>
<p>5、p名称空间注入</p>
<p>（1）使用p名称空间注入，可以简化基于xml配置方式</p>
<p>第一步：添加p名称空间注入，可以简化基于xml配置的方式</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215032790.png" alt="img"></p>
<p>第二步：进行属性注入，在bean标签里面进行操作</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215035789.png" alt="img"></p>
<p>IOC操作Bean管理（FactoryBean）</p>
<p>1、spring有两种类型Bean，一种普通bean，另外一种工厂bean（FactoryBean）</p>
<p>2、普通bean:在配置文件中，定义bean类型就是返回类型</p>
<p>3、工厂bean：在配置文件定义bean类型可以和返回类型不一样</p>
<p>第一步：创建类，让这个类作为工厂bean，实现接口FactoryBean</p>
<p>第二步：实现接口里面的方法，在实现的方法中定义返回的bean类型</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215038865.png" alt="img"></p>
<h5 id="3-1-5-2IOC操作Bean管理（基于注解方式）"><a href="#3-1-5-2IOC操作Bean管理（基于注解方式）" class="headerlink" title="3.1.5.2IOC操作Bean管理（基于注解方式）"></a><strong>3.1.5.2IOC操作Bean管理（基于注解方式）</strong></h5><p>1、什么是注解</p>
<p>（1）注解是代码特殊标记，格式：@注解名称（属性名称&#x3D;属性值，属性名称&#x3D;属性值）</p>
<p>（2）使用注解，注解作用在类上面，方法上面，属性上面</p>
<p>（3）使用注解配置：简化xml配置</p>
<p>2、Spring针对Bean中创建对象提供注解</p>
<p>（1）@Component:spring容器中提供的一种普通注解</p>
<p>(2)@Service：一般用在业务逻辑层、service层</p>
<p>(3)@Controller：用在web层</p>
<p>(4)@Repository：用在dao层</p>
<p>上面的注解功能是一样的，都可以用来创建对象，用在不同的层中，让开发人员更加清晰当前组件所扮演的角色</p>
<p>3、基于注解方式实现对象的创建</p>
<p>第一步：引入aop的依赖</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215050439.png" alt="img"></p>
<p>第二步：开启组件扫描</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215053140.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215057870.png" alt="img"></p>
<p>第三步：创建类，在类上加上注解</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215104498.png" alt="img"></p>
<p>4、开启组件扫描细节配置</p>
<p>扫描带有Controller注解的类扫描</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215108369.png" alt="img"></p>
<p>不扫描带有Controller注解的类</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215111908.png" alt="img"></p>
<p>基于注解方式实现属性注入</p>
<p>（1）@AutoWired</p>
<p>根据属性类型进行自动注入</p>
<p>第一步：把service和dao对象进行创建，在service和dao类添加创建对象注解</p>
<p>第二步：在service里面注入dao对象，在service类里面添加dao类型的属性，在属性上面使用注解做到</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215116557.png" alt="img"></p>
<p>（2）@Qualiier</p>
<p>根据属性名称进行注入，这个注解的使用，需要和@AutoWired一起使用，如果一个接口多个实现类就需要根据名称找到到底是哪一个</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215120188.png" alt="img"></p>
<p>(3)@Resourse</p>
<p>可以根据类型注入，可以根据名称注入。这个注解是javax包里面的，不是spring官方提供的</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215126552.png" alt="img"></p>
<p>（4）@Value</p>
<p>注入普通类型</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215129688.png" alt="img"></p>
<h3 id="3-2-AOP"><a href="#3-2-AOP" class="headerlink" title="3.2 AOP"></a><strong>3.2 AOP</strong></h3><p>什么是AOP?</p>
<p>（1）AOP是面向切面编程（面向方面编程），AOP是OOP的延续，可以对业务对各部分尽心隔离，使业务逻辑各部分之间的耦合度降低，提高程序的可重用性。</p>
<p>（2）通俗描述：不通过修改源代码的方式，在主干添加功能。</p>
<p>（3）使用登陆的例子来说明AOP</p>
<p>用登陆实例讲解什么是AOP</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215133439.png" alt="img"></p>
<h3 id="3-3-AOP的底层原理"><a href="#3-3-AOP的底层原理" class="headerlink" title="3.3 AOP的底层原理"></a><strong>3.3 AOP的底层原理</strong></h3><p>1、AOP的底层使用动态代理，用动态代理的方式来进行实现增加新的功能</p>
<p>（1）有两种情况的动态代理</p>
<p>第一种：有接口的情况，使用JDK动态代理</p>
<p>创建有接口实现类的代理对象，然后通过代理对象增强登陆实现类的方法，让登陆里面加一些新的功能。</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215136763.png" alt="img"></p>
<p>第二种：动态代理没有接口的情况，使用CGLIB动态代理</p>
<p>创建子类的代理对象，增强类里面的方法</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215140288.png" alt="img"></p>
<h4 id="AOP-JDK动态代理"><a href="#AOP-JDK动态代理" class="headerlink" title="AOP(JDK动态代理)"></a><strong>AOP(JDK动态代理)</strong></h4><p>1、使用JDK动态代理，使用Proxy里面的方法创建对象</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215143238.png" alt="img"></p>
<p>调用newProxyInstance方法</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215146548.png" alt="img"></p>
<p>方法里面有三个参数</p>
<p>第一个参数，类加载器</p>
<p>第二个参数，增强方法所在的类，这个类实现的接口，支持多个接口</p>
<p>第三个参数，实现这个接口InvocationHandler，创建代理对象，写增强的方法</p>
<h5 id="2、JDK动态代理的编码"><a href="#2、JDK动态代理的编码" class="headerlink" title="2、JDK动态代理的编码"></a><strong>2、JDK动态代理的编码</strong></h5><p>（1）创建接口，定义方法</p>
<p>（2）创建接口的实现类，实现方法</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215150146.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215153413.png" alt="img"></p>
<p>（3）使用Proxy</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215156346.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215201337.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215205318.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215208539.png" alt="img"></p>
<h3 id="3-4-AOP-术语"><a href="#3-4-AOP-术语" class="headerlink" title="3.4 AOP(术语)"></a><strong>3.4 AOP(术语)</strong></h3><p>1、连接点</p>
<p>类里面哪些方法可以被增强，这些方法称为连接点</p>
<p>2、切入点</p>
<p>实际被真正增强的方法，称为切入点</p>
<p>3、通知（增强）</p>
<p>（1）实际增强的逻辑部分称为通知（增强），就是比如登陆里面加权限判断</p>
<p>（2）通知有多种类型：</p>
<p>前置通知</p>
<p>后置通知</p>
<p>环绕通知</p>
<p>异常通知</p>
<p>最终通知 finally</p>
<p>4、切面</p>
<p>是动作操作，把通知应用到切入点的过程称之为通知</p>
<p>（1）把通知应用到切入点的过程，把权限判断加到登陆里面的过程</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215213138.png" alt="img"></p>
<h3 id="3-5-AOP的操作"><a href="#3-5-AOP的操作" class="headerlink" title="3.5 AOP的操作"></a><strong>3.5 AOP的操作</strong></h3><p>1、在Spring中基于AspectJ实现AOP操作</p>
<p>（1）什么是AspectJ</p>
<p>AspectJ不是Spring的组成部分，独立的AOP框架，一般把AspectJ和Spring框架一起使用，进行AOP操作</p>
<p>2、基于AspectJ实现AOP操作</p>
<p>（1）基于xml配置文件实现</p>
<p>（2）基于注解方式实现</p>
<p>3、在项目工程里面引入AOP相关依赖</p>
<p>4、切入点表达式</p>
<p>（1）切入点表达式的作用：知道要对哪个类对哪个方法进行增强</p>
<p>（2）语法结构</p>
<p>ececution([权限修饰符][返回类型][类全路径][方法名][参数列表])</p>
<p><img src="https://docs.corp.kuaishou.com/image/api/external/load/out?code=fcADXW0lcmHPWbcohLK37rVox:3335998147484307025fcADXW0lcmHPWbcohLK37rVox:1667744324479" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215218147.png" alt="img"></p>
<h3 id="3-6-AOP方式（AspectJ注解）"><a href="#3-6-AOP方式（AspectJ注解）" class="headerlink" title="3.6 AOP方式（AspectJ注解）"></a><strong>3.6 AOP方式（AspectJ注解）</strong></h3><p>1、创建类，在类里面定义方法，实现对类中方法的增强</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215221038.png" alt="img"></p>
<p>2、创建增强类（编写增强逻辑）</p>
<p>（1）在增强类里面创建方法，不同的方法创建不同的通知类型</p>
<p>3、进行通知的配置</p>
<p>（1）在spring配置文件中，开启注解扫描</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215223936.png" alt="img"></p>
<p>（2）使用注解创建User和UserProxy对象</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215227192.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215240837.png" alt="img"></p>
<p>（3）在增强类上面添加注解@Aspect</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215243338.png" alt="img"></p>
<p>（4）在Spring配置文件中开启生成代理对象</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215246602.png" alt="img"></p>
<p>4、配置不同类型的通知</p>
<p>（1）在增强类的里面，在作为通知的方法上面添加通知类型注解，使用切入点表达式配置</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215249795.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215252636.png" alt="img"></p>
<p>有异常才会执行</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215255617.png" alt="img"></p>
<p>after（最终通知）不管有没有异常都执行，而afterreturnning（后置通知、返回通知）有异常就不执行。</p>
<p>5、相同的切入点抽取</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215259344.png" alt="img"></p>
<p>6、有多个增强类对同一个方法进行增强，设置增强类的一个优先级</p>
<p>（1）在增强类上面添加注解@Order（数字类型值），数字类型值越小优先级越高。</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215303590.png" alt="img"></p>
<ul>
<li>类贴configuration和没有贴的区别，贴会被代理，这里还需要再去看看的</li>
</ul>
<p>@Configuration , @Component  都可作为配置类。</p>
<h2 id="4-spring常用注解"><a href="#4-spring常用注解" class="headerlink" title="4.spring常用注解"></a><strong>4.spring常用注解</strong></h2><p>但有区别： @Configuration 中 所有 带有 @Bean的注解都会被动态代理（CGLIB）， 因此对bean的调用返回的都是同一实例。@Component 没有被动态代理，每次调用返回的都是不同实例。</p>
<table>
<thead>
<tr>
<th>bean的注解</th>
<th><strong>@Component</strong> 组件，没有明确的角色</th>
</tr>
</thead>
<tbody><tr>
<td><strong>@Service</strong> 在业务逻辑层使用（service层</td>
<td></td>
</tr>
<tr>
<td><strong>@Repository</strong> 在数据访问层使用（dao层）</td>
<td></td>
</tr>
<tr>
<td><strong>@Controller</strong> 在展现层使用，控制器的声明（C）</td>
<td></td>
</tr>
<tr>
<td>@Autowired：由Spring提供注入bean</td>
<td></td>
</tr>
<tr>
<td>配置类注解</td>
<td>@Configuration 声明当前类为配置类，相当于xml形式的Spring配置</td>
</tr>
<tr>
<td></td>
<td>@ComponentScan 用于对Component进行扫描</td>
</tr>
<tr>
<td>切面（AOP）相关注解</td>
<td><strong>Aspect</strong> 声明一个切面（类上） <strong>@After</strong> 在方法执行之后执行（方法上） <strong>@Before</strong> 在方法执行之前执行（方法上） <strong>@Around</strong> 在方法执行之前与之后执行（方法上）</td>
</tr>
<tr>
<td>@Value注解</td>
<td><strong>@Value</strong> 为属性注入值</td>
</tr>
</tbody></table>
<h2 id="5-JdbcTemplate（概念和准备）"><a href="#5-JdbcTemplate（概念和准备）" class="headerlink" title="5 JdbcTemplate（概念和准备）"></a><strong>5 JdbcTemplate（概念和准备）</strong></h2><h3 id="1、什么是JdbcTemplate"><a href="#1、什么是JdbcTemplate" class="headerlink" title="1、什么是JdbcTemplate"></a><strong>1、什么是JdbcTemplate</strong></h3><p>（1）Spring框架对JDBC进行封装，使用JdbcTemplate方便实现对数据库的操作</p>
<h3 id="2、准备工作"><a href="#2、准备工作" class="headerlink" title="2、准备工作"></a><strong>2、准备工作</strong></h3><p>（1）引入相关的jar包</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215310986.png" alt="img"></p>
<p>（2）在spring配置文件中配置连接池</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215315310.png" alt="img"></p>
<p>（3）配置JdbcTemplate对象，注入DataSource</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215321111.png" alt="img"></p>
<p>（4）创建service类，常见dao类，在dao注入jdbcTemplate对象</p>
<p>配置文件中</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215326037.png" alt="img"></p>
<p>Service</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215329336.png" alt="img"></p>
<p>Dao</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215334694.png" alt="img"></p>
<h3 id="4-1-JdbcTemplate数据库操作添加"><a href="#4-1-JdbcTemplate数据库操作添加" class="headerlink" title="4.1 JdbcTemplate数据库操作添加"></a><strong>4.1 JdbcTemplate数据库操作添加</strong></h3><p>1、对应数据库表创建实体类</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215338384.png" alt="img"></p>
<p>2、编写service和dao</p>
<p>（1）在dao里面进行添加数据的操作</p>
<p>（2）调用JdbcTemplate对象里面update方法实现添加操作</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215343062.png" alt="img"></p>
<p>有两个参数</p>
<p>第一个参数：sql语句</p>
<p>第二个参数：可变参数，设置sql语句值</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215346389.png" alt="img"></p>
<p>3、测试类</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215350101.png" alt="img"></p>
<h3 id="4-2-JdbcTemplate操作数据库（修改和删除）"><a href="#4-2-JdbcTemplate操作数据库（修改和删除）" class="headerlink" title="4.2 JdbcTemplate操作数据库（修改和删除）"></a><strong>4.2 JdbcTemplate操作数据库（修改和删除）</strong></h3><p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215353445.png" alt="img"></p>
<h3 id="4-3-JdbcTemplate操作数据库（查询返回某个值）"><a href="#4-3-JdbcTemplate操作数据库（查询返回某个值）" class="headerlink" title="4.3 JdbcTemplate操作数据库（查询返回某个值）"></a><strong>4.3 JdbcTemplate操作数据库（查询返回某个值）</strong></h3><p>1、查询表里面有多少条记录， 返回某个值</p>
<p>2、使用JdbcTemplate实现查询返回某个值代码</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215402286.png" alt="img"></p>
<p>有两个参数</p>
<p>第一个参数:sql语句</p>
<p>第二个参数：返回类型</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215405537.png" alt="img"></p>
<h3 id="4-4-JdbcTemplate操作数据库（查询返回对象）"><a href="#4-4-JdbcTemplate操作数据库（查询返回对象）" class="headerlink" title="4.4 JdbcTemplate操作数据库（查询返回对象）"></a><strong>4.4 JdbcTemplate操作数据库（查询返回对象）</strong></h3><p>1、场景：查询图书详情</p>
<p>2、JdbcTemplate实现返回对象</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215409750.png" alt="img"></p>
<p>方法中三个参数</p>
<p>第一个参数：sql语句</p>
<p>第二个参数：RowMapper，是接口，返回不同类型的数据，使用这个接口里面的实现类完成数据封装</p>
<p>第三个参数：sql语句值</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215412685.png" alt="img"></p>
<h3 id="4-5-JdbcTemplate操作数据库（查询返回集合）"><a href="#4-5-JdbcTemplate操作数据库（查询返回集合）" class="headerlink" title="4.5 JdbcTemplate操作数据库（查询返回集合）"></a><strong>4.5 JdbcTemplate操作数据库（查询返回集合）</strong></h3><p>1、场景：查询图书列表分页</p>
<p>2、调用JdbcTemplate方法实现返回集合</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215416740.png" alt="img"></p>
<p>方法中三个参数</p>
<p>第一个参数：sql语句</p>
<p>第二个参数：RowMapper，是接口，返回不同类型的数据，使用这个接口里面的实现类完成数据封装</p>
<p>第三个参数：sql语句值</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215419685.png" alt="img"></p>
<h3 id="4-6-JdbcTemplate操作数据库（批量操作）"><a href="#4-6-JdbcTemplate操作数据库（批量操作）" class="headerlink" title="4.6 JdbcTemplate操作数据库（批量操作）"></a><strong>4.6 JdbcTemplate操作数据库（批量操作）</strong></h3><p>1、批量操作：操作表里面有多条记录</p>
<p>2、JdbcTemplate实现批量操作</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215423636.png" alt="img"></p>
<p>有两个参数</p>
<p>第一个参数：sql语句</p>
<p>第二个参数：List集合，添加多条记录数据</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215426948.png" alt="img"></p>
<p>测试</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215430183.png" alt="img"></p>
<h3 id="4-7-JdbcTemplate操作数据库（批量修改）"><a href="#4-7-JdbcTemplate操作数据库（批量修改）" class="headerlink" title="4.7 JdbcTemplate操作数据库（批量修改）"></a><strong>4.7 JdbcTemplate操作数据库（批量修改）</strong></h3><p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215434484.png" alt="img"></p>
<p>测试</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215437437.png" alt="img"></p>
<h2 id="6-事务概念"><a href="#6-事务概念" class="headerlink" title="6. 事务概念"></a><strong>6. 事务概念</strong></h2><h3 id="6-1-什么是事务"><a href="#6-1-什么是事务" class="headerlink" title="6.1 什么是事务"></a><strong>6.1 什么是事务</strong></h3><p>（1）事务是数据库操作的最基本单元，逻辑上的一组操作，要么都成功，如果有一个失败所有操作都失败。</p>
<p>（2）典型场景：银行转账</p>
<p>lucy 转账100元给mary</p>
<p>lucy少100，mary多100</p>
<h3 id="6-2-事务四个特性（ACID）"><a href="#6-2-事务四个特性（ACID）" class="headerlink" title="6.2 事务四个特性（ACID）"></a><strong>6.2 事务四个特性（ACID）</strong></h3><p>（1）原子性</p>
<p>（2）一致性</p>
<p>操作之前和操作之后总量是不变的</p>
<p>（3）隔离性</p>
<p>多事务操作的时候，事务之间不产生影响</p>
<p>（4）持久性</p>
<p>事务进行提交以后，表中的数据真的发生变化</p>
<h3 id="6-3-事务操作（搭建事务操作环境）"><a href="#6-3-事务操作（搭建事务操作环境）" class="headerlink" title="6.3 事务操作（搭建事务操作环境）"></a><strong>6.3 事务操作（搭建事务操作环境）</strong></h3><p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215442300.png" alt="img"></p>
<p>1、创建数据库表，添加记录</p>
<p>2、创建service，搭建dao，完成对象创建和注入关系</p>
<p>（1）在service中注入dao，在dao中注入JdbcTemplate，在JdbcTemplate中注入DataSource</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215445901.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215449039.png" alt="img"></p>
<p>3、在dao里创建两个方法，多钱和烧钱的方法，在service创建方法（转账的方法）</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215452483.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215455154.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215458232.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215501483.png" alt="img"></p>
<p>4、上面代码，如果正常执行是没有问题的，但是如果代码执行过程中产生了异常</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215505332.png" alt="img"></p>
<p>（1）上面问题如何解决呢？</p>
<p>使用事务来解决</p>
<p>（2）事务操作的过程</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215509414.png" alt="img"></p>
<h3 id="6-4-事务操作（Spring事务管理介绍）"><a href="#6-4-事务操作（Spring事务管理介绍）" class="headerlink" title="6.4 事务操作（Spring事务管理介绍）"></a><strong>6.4 事务操作（Spring事务管理介绍）</strong></h3><p>1、事务添加到JavaEE三层结构里面Service层（业务逻辑层）</p>
<p>2、在Spring进行事务到管理操作</p>
<p>（1）两种方式：编程式事务管理和声明式事务管理（使用）</p>
<p>3、使用声明式事务管理</p>
<p>（1）基于注解方式</p>
<p>（2）基于xml配置文件方式</p>
<p>4、在Spring进行声明式事务管理，底层使用AOP</p>
<p>5、Spring事务管理API</p>
<p>（1）提供一个接口，代表事务管理器，这个接口针对不同的框架提供不同的实现类</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215513055.png" alt="img"></p>
<h3 id="6-5-事务操作（注解声明式事务管理）"><a href="#6-5-事务操作（注解声明式事务管理）" class="headerlink" title="6.5 事务操作（注解声明式事务管理）"></a><strong>6.5 事务操作（注解声明式事务管理）</strong></h3><p>1、在spring：配置文件配置事务管理器</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215519246.png" alt="img"></p>
<p>2、在spring配置文件，开启事务注解</p>
<p>（1）在spring配置文件中引入名称空间tx</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215522635.png" alt="img"></p>
<p>(2)开启事务注解</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215526183.png" alt="img"></p>
<p>3、在service类上面（获取service类里面方法上面添加事务注解）</p>
<p>（1）@Transactional，这个注解可以添加到类上面，也可以添加到方法上面</p>
<p>（2）如果把这个注解添加到类上面，这个类里面所有的方法都添加事务</p>
<p>（3）如果把这个注解添加方法上面，为这个方法添加事务</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215528881.png" alt="img"></p>
<h3 id="6-6-事务操作（声明式事务管理参数配置）"><a href="#6-6-事务操作（声明式事务管理参数配置）" class="headerlink" title="6.6 事务操作（声明式事务管理参数配置）"></a><strong>6.6 事务操作（声明式事务管理参数配置）</strong></h3><p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215533258.png" alt="img"></p>
<p>2、propagation：事务传播行为</p>
<p>当一个事务的方法被另外一个事务方法调用的时候，这个事务方法该如何进行处理</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215536850.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215543036.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215547682.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215551181.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215556831.png" alt="img"></p>
<p>3、ioslation：事务隔离级别</p>
<p>（1）事务有特性成为隔离型，多事务操作之间不会产生影响。不考虑隔离型会产生很多问题。解决事务的隔离型</p>
<p>（2）有三个问题：脏读、不可重复读、虚（幻）读</p>
<p>（3）脏读：一个未提交的事务读取到类另一个未提交事务的数据</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215602282.png" alt="img"></p>
<p>（4）不可重复读：一个未提交事务读取到另一提交事务修改数据</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215605759.png" alt="img"></p>
<p>（5）虚读：一个未提交事务读取到另一提交事务添加数据</p>
<p>（6）通过设置事务的隔离级别，解决读的问题</p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215608544.png" alt="img"></p>
<p><img src="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/out-20221106215611950.png" alt="img"></p>
<p>mysql默认的事务隔离级别是可重复读</p>
<p>4、timeout:超时时间</p>
<p>（1）事务需要在一定的时间内进行提交，如果不提交进行回</p>
<p>5、readOnly:是否只读</p>
<p>(1)读：查询操作，写：添加修改删除操作</p>
<p>（2）readOnly:默认值false,表示可以查询，可以添加修改删除操作</p>
<p>（3）设置readOnly值是true，设置成true之后，只能查询</p>
<p>6、rollbackFor：回滚</p>
<p>（1）设置出现哪些异常进行事务回滚</p>
<p>7、noRollbackFor:不回滚</p>
<p>（1）设置出现异常不进行事务回滚</p>
<p>事务操作（xml声明式事务管理）</p>
<p>1、在spring的配置文件中进行配置</p>
<p>2、配置通知</p>
<p>3、配置切入点和切面</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" data-id="cla5f45s40000xjqk2qb321qv" data-title="Spring 学习笔记" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2022/11/06/SpringBoot-%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E9%A1%B9%E7%9B%AE/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">SpringBoot 从0到1搭建项目</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/11/06/Spring-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Spring 学习笔记</a>
          </li>
        
          <li>
            <a href="/2022/11/06/SpringBoot-%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E9%A1%B9%E7%9B%AE/">SpringBoot 从0到1搭建项目</a>
          </li>
        
          <li>
            <a href="/2022/11/06/RPC%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">RPC学习笔记</a>
          </li>
        
          <li>
            <a href="/2022/11/06/%E5%9B%9B%E4%B8%AA%E6%9C%88%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93/">四个月工作总结</a>
          </li>
        
          <li>
            <a href="/2022/11/06/4%E4%B8%AA%E6%9C%88%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93/">我的第一篇博客</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>